<!DOCTYPE html>
<html lang=zh>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="程序员要不要懂 Git？感觉应该可以算是一个必修课吧 🤔。 我刚开始写代码的时候，其实对 Git 的认知很模糊。一个人搞小项目，代码全都在自己电脑里，出问题就 ctrl+z 或者复制一份文件夹当“备份”。那会儿也没什么分支、合并这些操作，顶多就是 commit 一下留个记录。 但是一旦进入公司，和同事一起协作开发，情况就完全不一样了：大家同时改同一个仓库、不同人负责不同模块、还要保证主分支随时都">
<meta property="og:type" content="article">
<meta property="og:title" content="从单人开发到团队协作的Git升级之路">
<meta property="og:url" content="https://0xccio.github.io/2025/09/14/%E4%BB%8E%E5%8D%95%E4%BA%BA%E5%BC%80%E5%8F%91%E5%88%B0%E5%9B%A2%E9%98%9F%E5%8D%8F%E4%BD%9C%E7%9A%84Git%E5%8D%87%E7%BA%A7%E4%B9%8B%E8%B7%AF/index.html">
<meta property="og:site_name" content="cc">
<meta property="og:description" content="程序员要不要懂 Git？感觉应该可以算是一个必修课吧 🤔。 我刚开始写代码的时候，其实对 Git 的认知很模糊。一个人搞小项目，代码全都在自己电脑里，出问题就 ctrl+z 或者复制一份文件夹当“备份”。那会儿也没什么分支、合并这些操作，顶多就是 commit 一下留个记录。 但是一旦进入公司，和同事一起协作开发，情况就完全不一样了：大家同时改同一个仓库、不同人负责不同模块、还要保证主分支随时都">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://0xccio.github.io/images/git_1.png">
<meta property="og:image" content="https://0xccio.github.io/images/git_2.png">
<meta property="article:published_time" content="2025-09-14T07:44:22.000Z">
<meta property="article:modified_time" content="2025-09-14T12:21:48.637Z">
<meta property="article:author" content="0xccio">
<meta property="article:tag" content="Git">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://0xccio.github.io/images/git_1.png">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>从单人开发到团队协作的Git升级之路</title>
    <!-- async scripts -->
    <!-- Google Analytics -->


    <!-- Umami Analytics -->


    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
<meta name="generator" content="Hexo 7.3.0"><link rel="stylesheet" href="/css/prism-okaidia.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="目录"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="目录"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="顶部" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa-solid fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/">首页</a></li><!--
     --><!--
       --><li><a href="/about/">关于</a></li><!--
     --><!--
       --><li><a href="/archives/">文章</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="https://github.com/0xccio">项目</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        
        <li><a class="icon" aria-label="下一篇" href="/2025/08/30/pprof%E5%88%B0%E5%BA%95%E6%80%8E%E4%B9%88%E7%94%A8%EF%BC%9F/"><i class="fa-solid fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="返回顶部" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="分享文章" href="#"><i class="fa-solid fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">上一篇</span>
      <span id="i-next" class="info" style="display:none;">下一篇</span>
      <span id="i-top" class="info" style="display:none;">返回顶部</span>
      <span id="i-share" class="info" style="display:none;">分享文章</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://0xccio.github.io/2025/09/14/%E4%BB%8E%E5%8D%95%E4%BA%BA%E5%BC%80%E5%8F%91%E5%88%B0%E5%9B%A2%E9%98%9F%E5%8D%8F%E4%BD%9C%E7%9A%84Git%E5%8D%87%E7%BA%A7%E4%B9%8B%E8%B7%AF/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://0xccio.github.io/2025/09/14/%E4%BB%8E%E5%8D%95%E4%BA%BA%E5%BC%80%E5%8F%91%E5%88%B0%E5%9B%A2%E9%98%9F%E5%8D%8F%E4%BD%9C%E7%9A%84Git%E5%8D%87%E7%BA%A7%E4%B9%8B%E8%B7%AF/&text=从单人开发到团队协作的Git升级之路"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://0xccio.github.io/2025/09/14/%E4%BB%8E%E5%8D%95%E4%BA%BA%E5%BC%80%E5%8F%91%E5%88%B0%E5%9B%A2%E9%98%9F%E5%8D%8F%E4%BD%9C%E7%9A%84Git%E5%8D%87%E7%BA%A7%E4%B9%8B%E8%B7%AF/&title=从单人开发到团队协作的Git升级之路"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://0xccio.github.io/2025/09/14/%E4%BB%8E%E5%8D%95%E4%BA%BA%E5%BC%80%E5%8F%91%E5%88%B0%E5%9B%A2%E9%98%9F%E5%8D%8F%E4%BD%9C%E7%9A%84Git%E5%8D%87%E7%BA%A7%E4%B9%8B%E8%B7%AF/&is_video=false&description=从单人开发到团队协作的Git升级之路"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=从单人开发到团队协作的Git升级之路&body=Check out this article: https://0xccio.github.io/2025/09/14/%E4%BB%8E%E5%8D%95%E4%BA%BA%E5%BC%80%E5%8F%91%E5%88%B0%E5%9B%A2%E9%98%9F%E5%8D%8F%E4%BD%9C%E7%9A%84Git%E5%8D%87%E7%BA%A7%E4%B9%8B%E8%B7%AF/"><i class="fa-solid fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://0xccio.github.io/2025/09/14/%E4%BB%8E%E5%8D%95%E4%BA%BA%E5%BC%80%E5%8F%91%E5%88%B0%E5%9B%A2%E9%98%9F%E5%8D%8F%E4%BD%9C%E7%9A%84Git%E5%8D%87%E7%BA%A7%E4%B9%8B%E8%B7%AF/&title=从单人开发到团队协作的Git升级之路"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://0xccio.github.io/2025/09/14/%E4%BB%8E%E5%8D%95%E4%BA%BA%E5%BC%80%E5%8F%91%E5%88%B0%E5%9B%A2%E9%98%9F%E5%8D%8F%E4%BD%9C%E7%9A%84Git%E5%8D%87%E7%BA%A7%E4%B9%8B%E8%B7%AF/&title=从单人开发到团队协作的Git升级之路"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://0xccio.github.io/2025/09/14/%E4%BB%8E%E5%8D%95%E4%BA%BA%E5%BC%80%E5%8F%91%E5%88%B0%E5%9B%A2%E9%98%9F%E5%8D%8F%E4%BD%9C%E7%9A%84Git%E5%8D%87%E7%BA%A7%E4%B9%8B%E8%B7%AF/&title=从单人开发到团队协作的Git升级之路"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://0xccio.github.io/2025/09/14/%E4%BB%8E%E5%8D%95%E4%BA%BA%E5%BC%80%E5%8F%91%E5%88%B0%E5%9B%A2%E9%98%9F%E5%8D%8F%E4%BD%9C%E7%9A%84Git%E5%8D%87%E7%BA%A7%E4%B9%8B%E8%B7%AF/&title=从单人开发到团队协作的Git升级之路"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://0xccio.github.io/2025/09/14/%E4%BB%8E%E5%8D%95%E4%BA%BA%E5%BC%80%E5%8F%91%E5%88%B0%E5%9B%A2%E9%98%9F%E5%8D%8F%E4%BD%9C%E7%9A%84Git%E5%8D%87%E7%BA%A7%E4%B9%8B%E8%B7%AF/&name=从单人开发到团队协作的Git升级之路&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://0xccio.github.io/2025/09/14/%E4%BB%8E%E5%8D%95%E4%BA%BA%E5%BC%80%E5%8F%91%E5%88%B0%E5%9B%A2%E9%98%9F%E5%8D%8F%E4%BD%9C%E7%9A%84Git%E5%8D%87%E7%BA%A7%E4%B9%8B%E8%B7%AF/&t=从单人开发到团队协作的Git升级之路"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    
    
      <div id="toc">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1why-git"><span class="toc-number">1.</span> <span class="toc-text">1.Why Git</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2solo-git"><span class="toc-number">2.</span> <span class="toc-text">2.Solo Git</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-commit%E4%BB%A3%E7%A0%81%E7%9A%84%E6%97%B6%E5%85%89%E6%9C%BA"><span class="toc-number">2.1.</span> <span class="toc-text">1. commit：代码的时光机</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-branch%E5%B0%8F%E5%AE%9E%E9%AA%8C%E5%AE%A4"><span class="toc-number">2.2.</span> <span class="toc-text">2. branch：小实验室</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-reset-revert-reflog%E5%90%8E%E6%82%94%E8%8D%AF%E4%B8%89%E5%85%84%E5%BC%9F"><span class="toc-number">2.3.</span> <span class="toc-text">3. reset &#x2F; revert &#x2F; reflog：后悔药三兄弟</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3team-git"><span class="toc-number">3.</span> <span class="toc-text">3.Team Git</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#trouble-1%E5%86%B2%E7%AA%81"><span class="toc-number">3.1.</span> <span class="toc-text">Trouble-1：冲突</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%83%85%E6%99%AF-1%E4%BD%BF%E7%94%A8-merge"><span class="toc-number">3.1.1.</span> <span class="toc-text">情景 1：使用 Merge</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%83%85%E6%99%AF-2%E4%BD%BF%E7%94%A8-rebase"><span class="toc-number">3.1.2.</span> <span class="toc-text">情景 2：使用 Rebase</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#trouble-2%E5%9B%9E%E6%BB%9A"><span class="toc-number">3.2.</span> <span class="toc-text">Trouble-2：回滚</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E9%9C%80%E8%A6%81%E5%9B%9E%E6%BB%9A"><span class="toc-number">3.2.1.</span> <span class="toc-text">什么时候需要回滚？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%9E%E6%BB%9A%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F"><span class="toc-number">3.2.2.</span> <span class="toc-text">回滚的几种方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%A8%E5%9B%A2%E9%98%9F%E4%B8%AD%E7%9A%84%E4%BD%BF%E7%94%A8%E5%BB%BA%E8%AE%AE"><span class="toc-number">3.2.3.</span> <span class="toc-text">在团队中的使用建议</span></a></li></ol></li></ol></li></ol>
      </div>
    
  </span>
</div>

    
    <div class="content index py4 ">
        
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle p-name" itemprop="name headline">
        从单人开发到团队协作的Git升级之路
    </h1>



    <div class="meta">
      <span class="author p-author h-card" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span class="p-name" itemprop="name">0xccio</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2025-09-14T07:44:22.000Z" class="dt-published" itemprop="datePublished">2025-09-14</time>
        
      
    </div>


      

      
    <div class="article-tag">
        <i class="fa-solid fa-tag"></i>
        <a class="p-category" href="/tags/Git/" rel="tag">Git</a>
    </div>


    </div>
  </header>
  

  <div class="content e-content" itemprop="articleBody">
    <p>程序员要不要懂 Git？感觉应该可以算是一个必修课吧 🤔。</p>
<p>我刚开始写代码的时候，其实对 Git 的认知很模糊。一个人搞小项目，代码全都在自己电脑里，出问题就 ctrl+z 或者复制一份文件夹当“备份”。那会儿也没什么分支、合并这些操作，顶多就是 commit 一下留个记录。</p>
<p>但是一旦进入公司，和同事一起协作开发，情况就完全不一样了：大家同时改同一个仓库、不同人负责不同模块、还要保证主分支随时都能稳定运行。这时候，Git 的各种功能就从“可有可无的小工具”，摇身一变成了团队开发的基石。</p>
<p>所以这篇文章，就想带大家，同时也是让自己从<strong>单人开发</strong>的角度，一步步走向<strong>团队协作开发</strong>，看看过程中会遇到哪些坑，又该怎么用 Git 来解决。</p>
<h2 id="1why-git" tabindex="-1">1.Why Git</h2>
<p>为什么要用 Git？其实这个问题很多人第一次接触的时候都会问。
<strong>一个人写小项目的时候，好像不用 Git 也能活得好好的</strong>：</p>
<ul>
<li>
<p>改错了就 <code>Ctrl + Z</code>；</p>
</li>
<li>
<p>或者干脆复制一份文件夹，起名叫 <code>project_v2</code>、<code>project_v2_final</code>、<code>project_v2_final_final</code> 😂；</p>
</li>
<li>
<p>有时候甚至直接把代码发给同学，靠QQ/微信传来传去。</p>
</li>
</ul>
<p>看起来好像也能用，但一旦项目复杂一点或者要跟别人合作，这套“土办法”就会暴露出各种问题：</p>
<ul>
<li>
<p><strong>无法追踪变化</strong>：你根本记不清昨天到底改了哪几行。</p>
</li>
<li>
<p><strong>协作困难</strong>：你和同学同时改一个文件，最后合并的时候很容易互相覆盖。</p>
</li>
<li>
<p><strong>无法回退</strong>：改坏了东西，只能对着文件干瞪眼，找不到“上一个正常版本”。</p>
</li>
<li>
<p><strong>主分支不稳定</strong>：如果大家都在 main 上乱改，随时可能把项目搞崩。</p>
</li>
</ul>
<p>这时候 Git 的价值就体现出来了。它相当于给代码加上了“时光机”和“多人协作机制”：</p>
<ul>
<li>
<p>每次<strong>提交（commit）</strong> 就是一个快照，可以随时回到过去。</p>
</li>
<li>
<p><strong>分支（branch）</strong> 让你在不影响别人的情况下自由尝试新功能。</p>
</li>
<li>
<p><strong>合并（merge）</strong> 帮大家把各自的成果拼在一起，遇到冲突还能明确地告诉你哪里需要手动处理。</p>
</li>
<li>
<p><strong>远程仓库（remote）</strong> 让团队所有人都能共享进度，不会出现“只有某个人电脑里有最新代码”的尴尬。</p>
</li>
</ul>
<p>换句话说，Git 帮我们从“孤军奋战”顺利过渡到“团队协作”，它不仅仅是一个工具，更像是<strong>大家约定好的开发语言</strong>：</p>
<ul>
<li>
<p>提交的 commit message 是给未来的自己/同事看的说明书；</p>
</li>
<li>
<p>开的分支就是告诉大家“我正在做这个功能”；</p>
</li>
<li>
<p>提的 PR 就是一种“请求大家帮我看看、合并到主线吧”的协作信号。</p>
</li>
</ul>
<p>所以说，<strong>Git 并不是开发者可有可无的“锦上添花”</strong>，而是真正支撑团队高效协作的基石。</p>
<h2 id="2solo-git" tabindex="-1">2.Solo Git</h2>
<p>在聊团队协作之前，其实先把 <strong>“一个人用 Git 能做什么”</strong> 搞清楚，就已经能帮你省下不少麻烦。就算没人和你协作，你也能体会到 Git 的好处。</p>
<h3 id="1-commit代码的时光机" tabindex="-1">1. commit：代码的时光机</h3>
<p>commit 就像是给代码拍了一张快照。</p>
<ul>
<li>
<p>你写完一个小功能，就 commit 一下；</p>
</li>
<li>
<p>回头发现写崩了，直接回到上一个 commit，秒回档。</p>
</li>
</ul>
<p>很多人一开始 commit 信息都写成 “update” 或者 “fix bug” 😂。<br>
但久了你会发现，<strong>好的 commit message 就是现在的自己写给未来的你的一封信</strong>。<br>
比如：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">feat: add user login API</span><br><span class="line">fix: correct null pointer in cache</span><br></pre></td></tr></table></figure>
<p>比起一大堆“update”，这种更清晰。</p>
<p>这里放上git commit规范：</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// commit message格式</span></span><br><span class="line">&lt;<span class="keyword">type</span>&gt;(&lt;scope&gt;): &lt;subject&gt;</span><br><span class="line"></span><br><span class="line">&lt;<span class="keyword">type</span>&gt;:代表某次提交的类型,可用类型如下：</span><br><span class="line">- feat[特性]: 新增feature </span><br><span class="line">- fix[修复]: 修复bug     </span><br><span class="line">- docs[文档]: 仅仅修改了文档，比如README, CHANGELOG, CONTRIBUTE等等</span><br><span class="line">- style[格式]: 仅仅修改了空格、格式缩进、都好等等，不改变代码逻辑</span><br><span class="line">- refactor[重构]: 代码重构，没有加新功能或者修复bug</span><br><span class="line">- perf[优化]: 优化相关，比如提升性能、体验</span><br><span class="line">- test[测试]: 测试用例，包括单元测试、集成测试等</span><br><span class="line">- chore[工具]: 改变构建流程、或者增加依赖库、工具等</span><br><span class="line">- revert[回滚]: 回滚到上一个版本</span><br><span class="line"></span><br><span class="line">&lt;scope&gt;:说明commit影响的范围，例如在业务项目中可以依据菜单或者功能模块划分</span><br><span class="line"></span><br><span class="line">&lt;subject&gt;:是commit的简短描述</span><br></pre></td></tr></table></figure>
<h3 id="2-branch小实验室" tabindex="-1">2. branch：小实验室</h3>
<p>branch 就像是一个独立的平行空间。
你在 <code>main</code> 分支上已经有一套稳定代码了，现在想尝试一个新功能——直接新建分支。</p>
<ul>
<li>
<p>如果实验失败，删掉分支就好，不会污染 <code>main</code>。</p>
</li>
<li>
<p>如果实验成功，把分支合并回 <code>main</code>，大功告成。</p>
</li>
</ul>
<p>最常用的命令就是：</p>
<p><code>git checkout -b feature/test-login</code></p>
<p>开一个新分支，就能随便玩了。</p>
<h3 id="3-reset-revert-reflog后悔药三兄弟" tabindex="-1">3. reset / revert / reflog：后悔药三兄弟</h3>
<p>写代码谁没手滑过呢？幸好Git 里有三板斧能帮我们回头：</p>
<ul>
<li>
<p><code>reset</code>：把分支指针硬生生拉回去（危险，但有用）；</p>
</li>
<li>
<p><code>revert</code>：生成一个新的 commit，把之前的改动抵消（安全、推荐）；</p>
</li>
<li>
<p><code>reflog</code>：Git 的“黑匣子”，记录了所有移动过的 HEAD，就算你 reset 错了，也能翻出来找回现场。</p>
</li>
</ul>
<p>简单说：</p>
<ul>
<li>
<p><strong>reset</strong> 适合“我一个人玩，不怕搞砸历史”；</p>
</li>
<li>
<p><strong>revert</strong> 适合“要给别人看，必须留下痕迹”；</p>
</li>
<li>
<p><strong>reflog</strong> 是“最后的保险”。</p>
</li>
</ul>
<h2 id="3team-git" tabindex="-1">3.Team Git</h2>
<p>当项目从“我一个人写”变成“好几个人一起写”，问题就接踵而来了。Git 在这里不再只是“版本备份”，我觉得应该是我们能不能保住工作的救命工具了。</p>
<h3 id="trouble-1冲突" tabindex="-1">Trouble-1：冲突</h3>
<p>什么情况下容易遇到冲突？</p>
<ul>
<li>
<p><strong>同时改同一行代码</strong>：比如你改了函数的返回值，你同事也改了这行。</p>
</li>
<li>
<p><strong>同时改同一个文件的相邻部分</strong>：即使不是同一行，Git 也有可能判定为冲突。</p>
</li>
<li>
<p><strong>一个人删除文件，另一个人修改文件</strong>：Git 不知道该保留还是该删掉。</p>
</li>
</ul>
<p><strong>这里放上自己的一个小例子：</strong></p>
<p>假设远程有两个分支：</p>
<ul>
<li>
<p><strong>master</strong>：主分支</p>
</li>
<li>
<p><strong>lab1</strong>：开发分支，所有新功能的集成点</p>
</li>
</ul>
<p>现在有两位开发者：</p>
<ul>
<li>
<p>A创建了 <strong>cc_v1</strong> 分支来开发新功能</p>
</li>
<li>
<p>B创建了 <strong>dd_v1</strong> 分支来开发同一个新功能</p>
</li>
</ul>
<p>这两个分支都是基于 <strong>lab1</strong> 拉出来的。</p>
<p><img src="/images/git_1.png" alt="图1"></p>
<h4 id="情景-1使用-merge" tabindex="-1">情景 1：使用 Merge</h4>
<ol>
<li>
<p>A在 <strong>cc_v1</strong> 上修改了 <code>func()</code> 的返回值，然后提交并 push。</p>
</li>
<li>
<p>我向远程 <strong>lab1</strong> 提交 PR，合并成功。此时 <strong>lab1</strong> 分支的代码变了。</p>
</li>
<li>
<p>B在 <strong>dd_v1</strong> 上也修改了 <code>func()</code> 的返回值，但B本地的 <strong>dd_v1</strong> 还是基于老的 <strong>lab1</strong>。</p>
</li>
<li>
<p>B push 到远程时，就会提示 <strong>有冲突</strong>。</p>
</li>
</ol>
<p>这时候B需要：</p>
<ul>
<li>
<p>先在本地 <strong>dd_v1</strong> 分支执行：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 直接并远端 lab1</span></span><br><span class="line">git fetch origin</span><br><span class="line">git merge origin/lab1</span><br><span class="line"></span><br><span class="line">OR</span><br><span class="line"><span class="comment"># 依赖本地 lab1 的状态</span></span><br><span class="line">git checkout lab1</span><br><span class="line">git pull --ff-only origin lab1 <span class="comment"># 快进，避免产生多余的merge commit</span></span><br><span class="line">git checkout dd_v1 </span><br><span class="line">git merge lab1</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>Git 会告诉你哪一行冲突了，你需要手动修改冲突文件。</p>
</li>
<li>
<p>修改完成后再：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git push origin dd_v1</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>然后重新提交 PR，GitHub 就能正常合并。</p>
</li>
</ul>
<p>👉 <strong>特点</strong>：Merge 会在历史里留下「合并提交」，分支的提交树可能会出现很多分叉。</p>
<h4 id="情景-2使用-rebase" tabindex="-1">情景 2：使用 Rebase</h4>
<p>另一种做法是 <strong>rebase</strong>。</p>
<ol>
<li>
<p>在B push <strong>dd_v1</strong> 之前，先把 <strong>dd_v1</strong> rebase 到最新的 <strong>lab1</strong>：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git fetch origin</span><br><span class="line">git rebase origin/lab1</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>这时候如果有冲突，同样需要手动解决，然后继续：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git add . </span><br><span class="line">git rebase --<span class="built_in">continue</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>当 rebase 成功后，你的提交历史会像是「直接基于最新的 dev 分支」开发出来的。</p>
</li>
<li>
<p>再 push 到远程（可能需要 <code>--force-with-lease</code>）：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git push -f origin dd_v1</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>👉 <strong>特点</strong>：Rebase 会让提交历史变得干净、线性，看起来就像大家是「依次」开发的，而不是同时分叉再合并。</p>
<p>可以从我的git log上清晰看出merge和rebase的差别：</p>
<ul>
<li>
<p>merge：保留真实开发过程，历史分叉清晰，但图会乱。</p>
</li>
<li>
<p>rebase：让历史看起来像是「顺序开发」，干净线性，但会改写提交历史。</p>
</li>
</ul>
<p><img src="/images/git_2.png" alt="图2"></p>
<h3 id="trouble-2回滚" tabindex="-1">Trouble-2：回滚</h3>
<p>在团队协作中，难免会出现“写错了代码”、“提交了调试语句”、“合并后发现逻辑有问题”这类情况。<br>
此时我们需要把分支回到一个合适的状态，也就是 <strong>回滚</strong>。</p>
<h4 id="什么时候需要回滚" tabindex="-1">什么时候需要回滚？</h4>
<ul>
<li>
<p>提交了错误的实现，需要丢弃这部分代码。</p>
</li>
<li>
<p>调试用的 <code>fmt.Println</code> 不小心提交并 push 上去了。</p>
</li>
<li>
<p>PR 已经合并，才发现逻辑有 bug。</p>
</li>
<li>
<p>想让分支回到某个历史状态，重新开发。</p>
</li>
</ul>
<h4 id="回滚的几种方式" tabindex="-1">回滚的几种方式</h4>
<ol>
<li>
<p><strong>撤销工作区修改</strong>（还没 <code>add</code>）：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git checkout -- file</span><br></pre></td></tr></table></figure>
<p>把文件恢复到上一次提交的状态。</p>
</li>
<li>
<p><strong>撤销暂存区修改</strong>（已经 <code>add</code> 但还没 <code>commit</code>）：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git reset HEAD file</span><br></pre></td></tr></table></figure>
<p>撤销 <code>git add</code>，文件回到工作区状态。</p>
</li>
<li>
<p><strong>回退到某个提交（已经 <code>commit</code> 但还没 <code>push</code>）</strong>：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git reset --hard &lt;commit_id&gt;</span><br></pre></td></tr></table></figure>
<p>分支指针直接回到某次提交。⚠️ 注意：会丢掉之后的提交，不要在公共分支上使用。</p>
<p>这里需要注意<code>reset</code>的几种不同模式，我就用表格列出：</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>提交记录 (Commit)</th>
<th>暂存区 (Index)</th>
<th>工作区 (Working Directory)</th>
<th>典型场景</th>
<th>一句话总结</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>git reset --soft &lt;commit&gt;</code></td>
<td>❌ 回退到指定提交</td>
<td>✅ 保留</td>
<td>✅ 保留</td>
<td>提交写错信息，想把几次提交合并</td>
<td>退回到 commit 前一步(已经add)</td>
</tr>
<tr>
<td><code>git reset --mixed &lt;commit&gt;</code> (默认)</td>
<td>❌ 回退到指定提交</td>
<td>❌ 清空暂存区</td>
<td>✅ 保留</td>
<td>已经 add + commit 了，发现写错，想重新改</td>
<td>退回到 add 前一步(已经修改本地代码)</td>
</tr>
<tr>
<td><code>git reset --hard &lt;commit&gt;</code></td>
<td>❌ 回退到指定提交</td>
<td>❌ 清空暂存区</td>
<td>❌ 丢弃</td>
<td>放弃所有改动，强制回滚</td>
<td>退回到改代码前一步</td>
</tr>
</tbody>
</table>
</li>
<li>
<p><strong>安全回滚（推荐，已 push 的场景）</strong>：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git revert &lt;commit_id&gt;</span><br><span class="line">git push </span><br></pre></td></tr></table></figure>
<p>会生成一个新的 commit，内容是“反做”上一次提交，不会破坏历史记录，此时重新push即可。</p>
</li>
</ol>
<h4 id="在团队中的使用建议" tabindex="-1">在团队中的使用建议</h4>
<ul>
<li>
<p><strong>还没 push 到远程</strong>：可以用 <code>git reset --hard</code> 把错误提交彻底抹掉。</p>
</li>
<li>
<p><strong>已经 push 到远程</strong>：要用 <code>git revert</code>，这样不会影响公共历史，其他同事也能顺利拉取更新。</p>
</li>
</ul>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
        
          <li><a href="/">首页</a></li>
        
          <li><a href="/about/">关于</a></li>
        
          <li><a href="/archives/">文章</a></li>
        
          <li><a target="_blank" rel="noopener" href="https://github.com/0xccio">项目</a></li>
        
      </ul>
    </div>

    
    
      <div id="toc-footer" style="display: none">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1why-git"><span class="toc-number">1.</span> <span class="toc-text">1.Why Git</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2solo-git"><span class="toc-number">2.</span> <span class="toc-text">2.Solo Git</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-commit%E4%BB%A3%E7%A0%81%E7%9A%84%E6%97%B6%E5%85%89%E6%9C%BA"><span class="toc-number">2.1.</span> <span class="toc-text">1. commit：代码的时光机</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-branch%E5%B0%8F%E5%AE%9E%E9%AA%8C%E5%AE%A4"><span class="toc-number">2.2.</span> <span class="toc-text">2. branch：小实验室</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-reset-revert-reflog%E5%90%8E%E6%82%94%E8%8D%AF%E4%B8%89%E5%85%84%E5%BC%9F"><span class="toc-number">2.3.</span> <span class="toc-text">3. reset &#x2F; revert &#x2F; reflog：后悔药三兄弟</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3team-git"><span class="toc-number">3.</span> <span class="toc-text">3.Team Git</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#trouble-1%E5%86%B2%E7%AA%81"><span class="toc-number">3.1.</span> <span class="toc-text">Trouble-1：冲突</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%83%85%E6%99%AF-1%E4%BD%BF%E7%94%A8-merge"><span class="toc-number">3.1.1.</span> <span class="toc-text">情景 1：使用 Merge</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%83%85%E6%99%AF-2%E4%BD%BF%E7%94%A8-rebase"><span class="toc-number">3.1.2.</span> <span class="toc-text">情景 2：使用 Rebase</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#trouble-2%E5%9B%9E%E6%BB%9A"><span class="toc-number">3.2.</span> <span class="toc-text">Trouble-2：回滚</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E9%9C%80%E8%A6%81%E5%9B%9E%E6%BB%9A"><span class="toc-number">3.2.1.</span> <span class="toc-text">什么时候需要回滚？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%9E%E6%BB%9A%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F"><span class="toc-number">3.2.2.</span> <span class="toc-text">回滚的几种方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%A8%E5%9B%A2%E9%98%9F%E4%B8%AD%E7%9A%84%E4%BD%BF%E7%94%A8%E5%BB%BA%E8%AE%AE"><span class="toc-number">3.2.3.</span> <span class="toc-text">在团队中的使用建议</span></a></li></ol></li></ol></li></ol>
      </div>
    

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://0xccio.github.io/2025/09/14/%E4%BB%8E%E5%8D%95%E4%BA%BA%E5%BC%80%E5%8F%91%E5%88%B0%E5%9B%A2%E9%98%9F%E5%8D%8F%E4%BD%9C%E7%9A%84Git%E5%8D%87%E7%BA%A7%E4%B9%8B%E8%B7%AF/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://0xccio.github.io/2025/09/14/%E4%BB%8E%E5%8D%95%E4%BA%BA%E5%BC%80%E5%8F%91%E5%88%B0%E5%9B%A2%E9%98%9F%E5%8D%8F%E4%BD%9C%E7%9A%84Git%E5%8D%87%E7%BA%A7%E4%B9%8B%E8%B7%AF/&text=从单人开发到团队协作的Git升级之路"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://0xccio.github.io/2025/09/14/%E4%BB%8E%E5%8D%95%E4%BA%BA%E5%BC%80%E5%8F%91%E5%88%B0%E5%9B%A2%E9%98%9F%E5%8D%8F%E4%BD%9C%E7%9A%84Git%E5%8D%87%E7%BA%A7%E4%B9%8B%E8%B7%AF/&title=从单人开发到团队协作的Git升级之路"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://0xccio.github.io/2025/09/14/%E4%BB%8E%E5%8D%95%E4%BA%BA%E5%BC%80%E5%8F%91%E5%88%B0%E5%9B%A2%E9%98%9F%E5%8D%8F%E4%BD%9C%E7%9A%84Git%E5%8D%87%E7%BA%A7%E4%B9%8B%E8%B7%AF/&is_video=false&description=从单人开发到团队协作的Git升级之路"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=从单人开发到团队协作的Git升级之路&body=Check out this article: https://0xccio.github.io/2025/09/14/%E4%BB%8E%E5%8D%95%E4%BA%BA%E5%BC%80%E5%8F%91%E5%88%B0%E5%9B%A2%E9%98%9F%E5%8D%8F%E4%BD%9C%E7%9A%84Git%E5%8D%87%E7%BA%A7%E4%B9%8B%E8%B7%AF/"><i class="fa-solid fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://0xccio.github.io/2025/09/14/%E4%BB%8E%E5%8D%95%E4%BA%BA%E5%BC%80%E5%8F%91%E5%88%B0%E5%9B%A2%E9%98%9F%E5%8D%8F%E4%BD%9C%E7%9A%84Git%E5%8D%87%E7%BA%A7%E4%B9%8B%E8%B7%AF/&title=从单人开发到团队协作的Git升级之路"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://0xccio.github.io/2025/09/14/%E4%BB%8E%E5%8D%95%E4%BA%BA%E5%BC%80%E5%8F%91%E5%88%B0%E5%9B%A2%E9%98%9F%E5%8D%8F%E4%BD%9C%E7%9A%84Git%E5%8D%87%E7%BA%A7%E4%B9%8B%E8%B7%AF/&title=从单人开发到团队协作的Git升级之路"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://0xccio.github.io/2025/09/14/%E4%BB%8E%E5%8D%95%E4%BA%BA%E5%BC%80%E5%8F%91%E5%88%B0%E5%9B%A2%E9%98%9F%E5%8D%8F%E4%BD%9C%E7%9A%84Git%E5%8D%87%E7%BA%A7%E4%B9%8B%E8%B7%AF/&title=从单人开发到团队协作的Git升级之路"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://0xccio.github.io/2025/09/14/%E4%BB%8E%E5%8D%95%E4%BA%BA%E5%BC%80%E5%8F%91%E5%88%B0%E5%9B%A2%E9%98%9F%E5%8D%8F%E4%BD%9C%E7%9A%84Git%E5%8D%87%E7%BA%A7%E4%B9%8B%E8%B7%AF/&title=从单人开发到团队协作的Git升级之路"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://0xccio.github.io/2025/09/14/%E4%BB%8E%E5%8D%95%E4%BA%BA%E5%BC%80%E5%8F%91%E5%88%B0%E5%9B%A2%E9%98%9F%E5%8D%8F%E4%BD%9C%E7%9A%84Git%E5%8D%87%E7%BA%A7%E4%B9%8B%E8%B7%AF/&name=从单人开发到团队协作的Git升级之路&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://0xccio.github.io/2025/09/14/%E4%BB%8E%E5%8D%95%E4%BA%BA%E5%BC%80%E5%8F%91%E5%88%B0%E5%9B%A2%E9%98%9F%E5%8D%8F%E4%BD%9C%E7%9A%84Git%E5%8D%87%E7%BA%A7%E4%B9%8B%E8%B7%AF/&t=从单人开发到团队协作的Git升级之路"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa-solid fa-bars fa-lg" aria-hidden="true"></i> 菜单</a>
        
          <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa-solid fa-list fa-lg" aria-hidden="true"></i> 目录</a>
        
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa-solid fa-share-alt fa-lg" aria-hidden="true"></i> 分享</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up fa-lg" aria-hidden="true"></i> 返回顶部</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2016-2025
    0xccio
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/">首页</a></li><!--
     --><!--
       --><li><a href="/about/">关于</a></li><!--
     --><!--
       --><li><a href="/archives/">文章</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="https://github.com/0xccio">项目</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script>




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script>
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"复制到粘贴板！\">";
    btn += '<i class="fa-regular fa-clone"></i>';
    btn += '</span>';
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "复制成功！");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->

</body>
</html>
